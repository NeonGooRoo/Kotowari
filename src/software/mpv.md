---

Author:
title: MPV
shortTitle: MPV
description: Установка, настройка и использованиe MPV плеера.
icon: "/ico/mpv-icon.png"
category: 
 - инструменты
tag:
 - майнинг
 - видео
Date: 
ReadingTime: 
order: 4
---




MPV плеер это опен-сорс программа, на которую можно устанавливать множество плагинов, которые помогут в изучении японского и майнинга карточек. MPV поддерживается на всех ПК платформах, но гайд направлен на Windows. Все, кроме установки программы и плагинов должно быть одинаковым.

Данная инструкция сделана с расчетом, что Anki настроен по [это гайду](/software/anki.md)

Примеры использования для майнгинга:

<VidStack src="/imgvid/mpvdemo2.mp4"/>

<VidStack src="/imgvid/mpvjl.mp4"/>

-----

 



# Установка

Сначала нужно скачать MPV. У него множество версий на [официальном сайте](https://mpv.io/installation/), самый простой вариант [тут](https://sourceforge.net/projects/mpv-player-windows/files/64bit-v3/). Скачиваете самый последний архив. Теперь в вашей папочке для программ, которую вы создали заранее, создаете папку MPV и выгружаете туда содержимое архива.

Теперь откройте `C:\Users\**ВАШ ИМЯ ПОЛЬЗОВАТЕЛЯ**\AppData\Roaming\` введя `%AppData%` в поиск Windows или в адресную строку в любой папочке. В неё выложите папочку `mpv` из [данного архива](https://drive.google.com/file/d/12Ejx5RsWIjnA5kgLV-jj3_atXBaMa6D3/view?usp=drive_link)

Если вы на Mac, вам нужно открыть `~/Library/Application Support/`

::: danger ОЧЕНЬ ВАЖНО!
Если вы используете не основной профиль анки а созданный вами вручную, или если вы хотите использовать `MPV` с колодой не по формату [гайда Anki](anki.md), то вам нужно открыть файл `C:\Users\**ВАШ ИМЯ ПОЛЬЗОВАТЕЛЯ**\AppData\Roaming\mpv\scripts\animecards_v35.lua` в текстовом редакторе, и изменить названия полей на те, которые поодойдут под ваш формат карточки. На картинке изображено как:
![](/imgvid/mpvsettings.png)
:::

Можно пользоваться!

# Использование

Управление плеером:

::: danger ОСТОРОЖНО!

Все кнопки чувствительны к раскладке и регистру (z и Z делают разные вещи), так что запускать **MPV** лучше на английской раскладке. Поменять её можно в уже запущенном приложении на **Windows** только через сочетание **Win+Пробел**.

:::

| кнопка               | функция MPV         | функция                           |
|----------------------|----------------------|-----------------------------------|
| 9                    | add volume -2        | звук тише                         |
| 0                    | add volume +2        | звук громче                       |
| право                | seek 5               | +5 секунд                         |
| лево                 | seek -5              | -5 секунд                         |
| пробел               | cycle pause          | пауза                             |
| [                    | multiply speed 1/1.1 | замедлить на 10%                  |
| ]                    | multiply speed 1.1   | ускорить на 10%                   |
| мышь вниз            | no-osd seek -3 exact | отмотать на 3 сек                 |
| мышь вверх           | no-osd seek 3 exact  | промотать на 3 сек                |
| боковая мыши ближняя | no-osd sub-seek -1   | отмотать до пред. линии субтитров |
| боковая мыши дальняя | no-osd sub-seek 1    | домотать до след. линии субтитров |
| z                    | add sub-delay -0.1   | изменить задержку субтитров на -0. 1 |
| x                    | add sub-delay 0.1    | изменить задержку субтитров на 0. 1  |
|s|sub-step -1|сдвинуть субтитры, чтобы предыд. строка началась. |
|a|sub-step 1|сдвинуть субтитры, чтобы след. строка началась. |

::: details Настройка управления

если вы хотите поменять или добавить клавиши, то вам нужно модифицировать файл `input.conf` который находится в `C:\Users\**ВАШ ИМЯ ПОЛЬЗОВАТЕЛЯ**\AppData\Roaming\`. Записывать нужно следующим образом:
`"клавиша" "функция MPV"`.

Все функции можно посмотреть [тут](https://github.com/mpv-player/mpv/blob/master/etc/input.conf), названия кнопок, в том числе мыши, [тут](https://mpv.io/manual/master/).

:::

Также объясню как пользоваться плагином на ускорение видео **sub-transition**, больше информации на [AJATT-Tools GitHub](https://github.com/Ajatt-Tools/sub-transition), когда нет субтитров. Полезно, чтобы погружаться более эффективно.

Открываются настройки плагина через **Shift+n**, навигация через стрелочки.

**t** - включить скрипт.

**s**- сохранить настройки.

**inter speed:** скорость когда нет субтитров.

**normal speed:** скорость когда есть субтитры.

**skip immediately:** пропускать куски без субтитров.

**notifications:** уведомления mpv об изменении скорости. Лучше выключить.

**start enabled:** автовключение при запуске **MPV**.

## Просмотр и субтитры

Теперь попробуйте запустить аниме и субтитры. Для этого просто переносите файлы из папки в окно приложения. Видео и субтитры можно загружать одновременно. Если одно видео и один файл субтитров, то все будет работать сразу, если видео файлов несколько, то нужно чтобы файл субтитров к каждому видео имел то же название, что и видео, допустимы теги языка (например `.ja` дает программе знать, что это японские субтитры). Например, если перекинуть в плеер сразу несколько файлов, как тут:

`One-Piece_S999EP01.mkv`

`One-Piece_S999EP01.ja.srt`

`One-Piece_S999EP02.mkv`

`One-Piece_S999EP02.ja.srt`

`One-Piece_S999EP03.mkv`

`One-Piece_S999EP03.ja.srt`

`One-Piece_S999EP04.mkv`

`One-Piece_S999EP04.ja.srt`

то видео будут автоматически проигрываться друг за другом, и субтитры автоматически добавятся. Важно, что порядок отображения видео указывает плееру порядок, не цифры, так что сортируйте папку по названию.

Чтобы синхронизировать субтитры вручную, пользуйтесь кнопками **a** и **s** чтобы найти строку субтитров, которая произносится на данный момент, и **z** и **x** чтобы подправить тайминги до идеала.

Информация о ток, как переименовывать и обрабатывать субтитры, в том числе делать автоматический ретайминг, [тут](/software/subtitles.md). Источники субтитров можно найти в [ресурсах](/resources.md).

Выбирать субтитры и аудиодорожки можно иконками снизу меню. Чтобы проверить, загрузились ли плагины, попробуйте навестись в нижнюю часть экрана, видео должно автоматически становиться на паузу. Это сделано для того, чтобы когда вы наводились на субтитры при просмотре видео, вам не приходилось также ставить каждый раз видео на паузу. Если вам это не нравится, удалите файл `Pause_on_MousePos.lua` в папке **MPV**. Либо нажмите `Shift+t`, должна открыться менюшка.

Если у вас друг не работают скрипты, проверьте, что у вас `input.conf` находится в `C:\Users\**ВАШ ИМЯ ПОЛЬЗОВАТЕЛЯ**\AppData\Roaming\mpv`. Если все верно, можете попробовать в папке, куда в СКАЧАЛИ **MPV**, создать папку portable_config, и в нее выгрузить СОДЕРЖИМОЕ `C:\Users\**ВАШ ИМЯ ПОЛЬЗОВАТЕЛЯ**\AppData\Roaming\mpv`, чтобы у вас был путь 
`...\папка_с_программами\MPV\portable_config\input.conf`

Настройка **MPV** готова.

# Майнинг

В самом по себе **MPV** смотреть слова нельзя, так что нужно пользоваться внешними программами. Тут 2 варианта, посмотрите для себя, какой вам удобнее. Через **Yomitan** проще, потому что он уже должен быть у вас настроен, но с **JL** гораздо удобнее, потому что можно в полный экран смотреть, но он добавляет лишь одно выбранное определение.

## Yomitan + Clipboard Inserter

1. Установите [данное расширение](https://chromewebstore.google.com/detail/clipboard-inserter/deahejllghicakhplliloeheabddjajm).
2. Откройте [данную страницу](https://anacreondjt.gitlab.io/texthooker.html)
3. включите разрешение, чтобы на нем появилась зеленая галочка.

Попробуйте скопировать что угодно, текст должен появится на странице. Если все работает, открывайте желанный контент в MPV, и строчки субтитров у вас должны повторяться на этой странице теперь. **Anacreon Script** копирует автоматически субтитры в буфер. Когда появилось слово, которое хотите замайнить: майните его через **Yomitan** и после этого в окне **MPV** нажимаете `Ctrl+V`. Видео на паузу ставить необязательно, через несколько секунд появится уведомление - карточка готова!

<VidStack src="/imgvid/mpvdemo2.mp4"/>

## JL

Установите [JL](/jl.md)

Также как и с **Yomitan**, когда появляется желаемое слово - майните, и после того как  даст уведомление, что она готова, в окне **MPV** нажимаете `Ctrl+V`. Карточка готова. Не забывайте после майна сделать окно **MPV** активным (тыкнуть в него).

Результат должен выглядеть так:

<VidStack src="/imgvid/mpvjl.mp4"/>

Контент и субтитры можно найти в [ресурсах](resources.md)


# FAQ

- Почему кнопки не работают?
проверьте что у вас английская раскладка и выключен Caps Lock
- Карточка создается, в поле аудио предложения есть файл, но нет звука и каринка пустая, почему?
Вы используете не основной профиль Anki, измените настройки соответственно тому как написано в разделе [**Установка**](https://neongoo.ru/mpv.html#%D1%83%D1%81%D1%82%D0%B0%D0%BD%D0%BE%D0%B2%D0%BA%D0%B0)